import{E as j,_ as x,o as i,c as r,e as B,l as h,a as e,t as m,h as f,r as G,p as A,f as D,m as N,I as Y,B as V,k as L,v as F,A as M,F as C,i as S,n as $,d as I,J as z,b as X,s as O,q as H,K as W,g as J,C as R,w as P,L as K,M as U}from"./index-a5ee933b.js";import{G as Q}from"./goods-item-bc8e42ea.js";const Z=t=>j("/goods","get",{id:t}),ee=({id:t,limit:s=16})=>j("/goods/relevant","get",{id:t,limit:s}),se=({id:t,type:s,limit:c=3})=>j("/goods/hot","get",{id:t,type:s,limit:c}),te=t=>j(`https://mock.boxuegu.com/mock/1175/goods/${t}/evaluate`,"get"),oe=t=>j(`/goods/${t}/evaluate`,"get");const ae={},ne={class:"goods-warn"},ce=B('<h3 data-v-37af1364>注意事项</h3><p class="tit" data-v-37af1364>• 购买运费如何收取？</p><p data-v-37af1364> 单笔订单金额(不含运费)满88元免邮费；不满88元，每单收取10元运费。（港澳台地区需满500元免邮费；不满500元，每单收取30元运费) </p><br data-v-37af1364><p class="tit" data-v-37af1364>• 使用什么快递发货?</p><p data-v-37af1364>默认使用顺丰快递发货(个别商品使用其他快递）</p><p data-v-37af1364>配送范围覆盖全国大部分地区(港澳台地区除外）</p><br data-v-37af1364><p class="tit" data-v-37af1364>• 如何申请退货?</p><p data-v-37af1364> 1.自收到商品之日起30日内，顾客可申请无忧退货，退款将原路返还，不同的银行处理时间不同，预计1-5个工作日到账； </p><p data-v-37af1364>2.内裤和食品等特殊商品无质量问题不支持退货；</p><p data-v-37af1364> 3.退货流程： 确认收货-申请退货-客服审核通过-用户寄回商品-仓库签收验货-退款审核-退款完成； </p><p data-v-37af1364> 4.因小兔鲜儿产生的退货，如质量问题，退货邮费由小兔鲜儿承担，退款完成后会以现金券的形式报销。因客户个人原因产生的退货，购买和寄回运费由客户个人承担。 </p>',13),le=[ce];function de(t,s){return i(),r("div",ne,le)}const ie=x(ae,[["render",de],["__scopeId","data-v-37af1364"]]);const ue=t=>(A("data-v-bf3adf02"),t=t(),D(),t),re={class:"goods-relevant"},_e={class:"header"},pe=ue(()=>e("i",{class:"icon"},null,-1)),ve={class:"title"},ge={__name:"goods-relevant",props:{goodsId:{type:String,default:void 0}},setup(t){const s=t,c=h([]);return ee({id:s.goodsId}).then(d=>{const o=Math.ceil(d.result.length/4);for(let _=0;_<o;_++)c.value.push(d.result.slice(4*_,4*(_+1)));console.log(c)}),(d,n)=>{const o=G("XtxCarousel");return i(),r("div",re,[e("div",_e,[pe,e("span",ve,m(t.goodsId?"同类商品推荐":"猜你喜欢"),1)]),f(o,{sliders:c.value,style:{height:"380px"},"auto-play":""},null,8,["sliders"])])}}},fe=x(ge,[["__scopeId","data-v-bf3adf02"]]);const me={class:"goods-image"},he=["src"],be={class:"small"},ye=["onMouseenter","src"],xe={__name:"goods-image",props:{images:{type:Array,default:()=>[]}},setup(t){const s=h(0),c=h(!1),d=N({left:0,top:0}),n=N({backgroundPositionX:0,backgroundPositionY:0}),o=h(null),{elementX:_,elementY:a,isOutside:v}=Y(o);return V([_,a,a],()=>{c.value=!v.value;const l={x:0,y:0};_.value<100?l.x=0:_.value>300?l.x=200:l.x=_.value-100,a.value<100?l.y=0:a.value>300?l.y=200:l.y=a.value-100,d.left=l.x+"px",d.top=l.y+"px",n.backgroundPositionX=-2*l.x+"px",n.backgroundPositionY=-2*l.y+"px"}),(l,g)=>(i(),r("div",me,[L(e("div",{class:"large",style:M([{backgroundImage:`url(${t.images[s.value]})`},n])},null,4),[[F,c.value]]),e("div",{class:"middle",ref_key:"target",ref:o},[e("img",{src:t.images[s.value],alt:""},null,8,he),L(e("div",{class:"layer",style:M(d)},null,4),[[F,c.value]])],512),e("ul",be,[(i(!0),r(C,null,S(t.images,(p,u)=>(i(),r("li",{key:p,class:$({active:u===s.value})},[e("img",{onMouseenter:b=>s.value=u,src:p,alt:""},null,40,ye)],2))),128))])]))}},$e=x(xe,[["__scopeId","data-v-cc97bbca"]]);const Ce={class:"goods-sales"},ke=B('<li data-v-cf77bc5b><p data-v-cf77bc5b>销量人气</p><p data-v-cf77bc5b>200+</p><p data-v-cf77bc5b><i class="iconfont icon-task-filling" data-v-cf77bc5b></i>销量人气</p></li><li data-v-cf77bc5b><p data-v-cf77bc5b>商品评价</p><p data-v-cf77bc5b>400+</p><p data-v-cf77bc5b><i class="iconfont icon-comment-filling" data-v-cf77bc5b></i>查看评价</p></li><li data-v-cf77bc5b><p data-v-cf77bc5b>收藏人气</p><p data-v-cf77bc5b>600+</p><p data-v-cf77bc5b><i class="iconfont icon-favorite-filling" data-v-cf77bc5b></i>收藏商品</p></li><li data-v-cf77bc5b><p data-v-cf77bc5b>品牌信息</p><p data-v-cf77bc5b>苏宁电器</p><p data-v-cf77bc5b><i class="iconfont icon-dynamic-filling" data-v-cf77bc5b></i>品牌主页</p></li>',4),Ie=[ke],Ge={__name:"goods-sales",setup(t){return(s,c)=>(i(),r("ul",Ce,Ie))}},Se=x(Ge,[["__scopeId","data-v-cf77bc5b"]]);const E=t=>(A("data-v-c17ee0c1"),t=t(),D(),t),Pe={class:"g-name"},je={class:"g-desc"},we={class:"g-price"},Ne={class:"g-service"},Xe=E(()=>e("dl",null,[e("dt",null,"促销"),e("dd",null,"12月好物放送，App领券购买直降120元")],-1)),Be=E(()=>e("dt",null,"配送",-1)),Ae={style:{"padding-right":"5px"}},De=E(()=>e("dl",null,[e("dt",null,"服务"),e("dd",null,[e("span",null,"无忧退货"),e("span",null,"快速退款"),e("span",null,"免费包邮"),e("a",{href:"javascript:;"},"了解详情")])],-1)),Ve={__name:"goods-name",props:{goods:{type:Object,default:()=>({})}},setup(t){const s=t,c=h("110000"),d=h("119900"),n=h("110101"),o=h("北京市 市辖区 东城区");if(s.goods.userAddresses){const a=s.goods.userAddresses.find(v=>v.isDefault===1);a&&(c.value=a.provinceCode,d.value=a.cityCodedefaultAddress,n.value=a.countyCode,o.value=a.fullLocation)}const _=a=>{c.value=a.provinceCode,d.value=a.cityCodedefaultAddress,n.value=a.countyCode,o.value=a.fullLocation};return(a,v)=>{const l=G("XtxCity");return i(),r(C,null,[e("p",Pe,m(t.goods.name),1),e("p",je,m(t.goods.desc),1),e("p",we,[e("span",null,m(t.goods.price),1),e("span",null,m(t.goods.oldPrice),1)]),e("div",Ne,[Xe,e("dl",null,[Be,e("dd",Ae,[I("至 "),f(l,{onChange:_,fullLocation:o.value},null,8,["fullLocation"])])]),De])],64)}}},ze=x(Ve,[["__scopeId","data-v-c17ee0c1"]]);function Ee(t){const s=[],c=2**t.length;for(let d=0;d<c;d+=1){const n=[];for(let o=0;o<t.length;o+=1)d&1<<o&&n.push(t[o]);s.push(n)}return s}const Le={class:"goods-sku"},Fe=["onClick","src","title"],Me=["onClick"],Te={__name:"goods-sku",props:{goods:{type:Object,default:()=>({specs:[],skus:[]})}},setup(t,{emit:s}){const c=t,d="★",n=l=>{const g={};return l.forEach(p=>{if(p.inventory>0){const u=p.specs.map(y=>y.valueName);Ee(u).forEach(y=>{const k=y.join(d);g[k]?g[k].push(p.id):g[k]=[p.id]})}}),g},o=l=>{const g=[];return l.forEach(p=>{const u=p.values.find(b=>b.selected);g.push(u?u.name:void 0)}),g},_=(l,g)=>{l.forEach((p,u)=>{const b=o(l);p.values.forEach(y=>{if(y.selected)return;b[u]=y.name;const k=b.filter(q=>q).join(d);y.disabled=!g[k]})})},a=n(c.goods.skus),v=(l,g)=>{if(g.disabled)return;g.selected?g.selected=!1:(l.values.forEach(u=>{u.selected=!1}),g.selected=!0),_(c.goods.specs,a);const p=o(c.goods.specs).filter(u=>u);if(p.length===c.goods.specs.length){const u=a[p.join(d)],b=c.goods.skus.find(y=>y.id===u[0]);s("change",{skuId:b.id,price:b.price,oldPrice:b.oldPrice,inventory:b.inventory,specsText:b.specs.reduce((y,k)=>`${y} ${k.name}:${k.valueName}`,"").trim()})}else s("change",{})};return(l,g)=>(i(),r("div",Le,[(i(!0),r(C,null,S(t.goods.specs,p=>(i(),r("dl",{key:p.id},[e("dt",null,m(p.name),1),e("dd",null,[(i(!0),r(C,null,S(p.values,u=>(i(),r(C,{key:u.name},[u.picture?(i(),r("img",{key:0,class:$({selected:u.selected,disabled:u.disabled}),onClick:b=>v(p,u),src:u.picture,title:u.name},null,10,Fe)):(i(),r("span",{key:1,class:$({selected:u.selected,disabled:u.disabled}),onClick:b=>v(p,u)},m(u.name),11,Me))],64))),128))])]))),128))]))}},Oe=x(Te,[["__scopeId","data-v-1349ae75"]]);const He={class:"goods-detail"},Re={class:"attrs"},qe={class:"dt"},Ye={class:"dd"},We=["src"],Je={__name:"goods-detail",setup(t){const s=z("goods");return console.log(s),(c,d)=>(i(),r("div",He,[e("ul",Re,[(i(!0),r(C,null,S(X(s).details.properties,n=>(i(),r("li",{key:n.value},[e("span",qe,m(n.name),1),e("span",Ye,m(n.value),1)]))),128))]),(i(!0),r(C,null,S(X(s).details.pictures,n=>(i(),r("img",{key:n,src:n,alt:""},null,8,We))),128))]))}},Ke=x(Je,[["__scopeId","data-v-2b400c14"]]);const w=t=>(A("data-v-42b1ea59"),t=t(),D(),t),Ue={class:"goods-comment"},Qe={key:0,class:"head"},Ze={class:"data"},es=w(()=>e("span",null,"人购买",-1)),ss=w(()=>e("span",null,"好评率",-1)),ts={class:"tags"},os=w(()=>e("div",{class:"dt"},"大家都在说：",-1)),as={class:"dd"},ns=["onClick"],cs={class:"sort"},ls=w(()=>e("span",null,"排序：",-1)),ds=B('<div class="list" data-v-42b1ea59><div class="item" data-v-42b1ea59><div class="user" data-v-42b1ea59><img src="http://zhoushugang.gitee.io/erabbit-client-pc-static/uploads/avatar_1.png" alt="" data-v-42b1ea59><span data-v-42b1ea59>兔****m</span></div><div class="body" data-v-42b1ea59><div class="score" data-v-42b1ea59><i class="iconfont icon-wjx01" data-v-42b1ea59></i><i class="iconfont icon-wjx01" data-v-42b1ea59></i><i class="iconfont icon-wjx01" data-v-42b1ea59></i><i class="iconfont icon-wjx01" data-v-42b1ea59></i><i class="iconfont icon-wjx02" data-v-42b1ea59></i><span class="attr" data-v-42b1ea59>颜色：黑色 尺码：M</span></div><div class="text" data-v-42b1ea59>网易云app上这款耳机非常不错 新人下载网易云购买这款耳机优惠大 而且耳机🎧确实正品 音质特别好 戴上这款耳机 听音乐看电影效果声音真是太棒了 无线方便 小盒自动充电 最主要是质量好音质棒 想要买耳机的放心拍 音效巴巴滴 老棒了</div><div class="time" data-v-42b1ea59><span data-v-42b1ea59>2020-10-10 10:11:22</span><span class="zan" data-v-42b1ea59><i class="iconfont icon-dianzan" data-v-42b1ea59></i>100</span></div></div></div></div>',1),is={__name:"goods-comment",setup(t){const s=h(null),c=z("goods");te(c.value.id).then(a=>{a.result.tags.unshift({title:"有图",tagCount:a.result.hasPictureCount}),a.result.tags.unshift({title:"全部评价",tagCount:a.result.evaluateCount}),s.value=a.result});const d=h(0),n=a=>{d.value=a;const v=s.value.tags[a];console.log(v),v.type==="all"?(o.hasPicture=!1,o.tag=null):v.type==="img"?(o.hasPicture=!0,o.tag=null):(o.hasPicture=!1,o.tag=v.title),o.page=1},o=N({page:1,pageSize:10,hasPicture:null,tag:null,sortField:null}),_=h([]);return V(o,()=>{oe(c.id).then(a=>{_.value=a.result.items})},{immediate:!0}),(a,v)=>(i(),r("div",Ue,[s.value?(i(),r("div",Qe,[e("div",Ze,[e("p",null,[e("span",null,m(s.value.salesCount),1),es]),e("p",null,[e("span",null,m(s.value.praisePercent),1),ss])]),e("div",ts,[os,e("div",as,[(i(!0),r(C,null,S(s.value.tags,(l,g)=>(i(),r("a",{key:l.title,href:"javascript:;",onClick:p=>n(g),class:$({active:d.value===g})},m(l.title)+" ("+m(l.tagCount)+")",11,ns))),128))])])])):O("",!0),e("div",cs,[ls,e("a",{onClick:v[0]||(v[0]=l=>o.sortField=null),class:$({active:o.sortField===null}),href:"javascript:;"},"默认",2),e("a",{onClick:v[1]||(v[1]=l=>o.sortField="createTime"),class:$({active:o.sortField==="createTime"}),href:"javascript:;"},"最新",2),e("a",{onClick:v[2]||(v[2]=l=>o.sortField="praiseCount"),class:$({active:o.sortField==="praiseCount"}),href:"javascript:;"},"最热",2)]),ds]))}},us=x(is,[["__scopeId","data-v-42b1ea59"]]);const rs={class:"goods-tabs"},_s={__name:"goods-tabs",setup(t){const s=h("GoodsDetail"),c=z("goods");return(d,n)=>(i(),r("div",rs,[e("nav",null,[e("a",{onClick:n[0]||(n[0]=o=>s.value="GoodsDetail"),class:$({active:s.value==="GoodsDetail"}),href:"javascript:;"},"商品详情",2),e("a",{onClick:n[1]||(n[1]=o=>s.value="GoodsComment"),class:$({active:s.value==="GoodsComment"}),href:"javascript:;"},[I("商品评价"),e("span",null,"("+m(X(c).commentCount)+")",1)],2)]),(i(),H(W(s.value=="GoodsDetail"?Ke:us)))]))}},ps=x(_s,[["__scopeId","data-v-b7a32a84"]]);const vs={name:"GoodsHot",props:{type:{type:Number,default:1}},components:{GoodsItem:Q},setup(t){const s={1:"24小时热销榜",2:"周热销榜",3:"总热销榜"},c=J(()=>s[t.type]),d=R(),n=h([]);return se({id:d.params.id,type:t.type}).then(o=>{n.value=o.result}),{title:c,goodsList:n}}},gs={class:"goods-hot"};function fs(t,s,c,d,n,o){const _=G("GoodsItem");return i(),r("div",gs,[e("h3",null,m(d.title),1),e("div",null,[(i(!0),r(C,null,S(d.goodsList,a=>(i(),H(_,{key:a.id,goods:a},null,8,["goods"]))),128))])])}const T=x(vs,[["render",fs],["__scopeId","data-v-852d214e"]]);const ms={key:0,class:"xtx-goods-page"},hs={class:"container"},bs={class:"goods-info"},ys={class:"media"},xs={class:"spec"},$s={class:"goods-footer"},Cs={class:"goods-article"},ks={class:"goods-aside"},Is={__name:"index",setup(t){const s=h(null),c=()=>{const o=R();V(()=>o.params.id,_=>{_&&`/product/${_}`===o.path&&Z(o.params.id).then(a=>{s.value=null,K(()=>{s.value=a.result})})},{immediate:!0})},d=o=>{o.skuId&&(s.value.price=o.price,s.value.oldPrice=o.oldPrice,s.value.inventory=o.inventory)};U("goods",s);const n=h(1);return c(),(o,_)=>{const a=G("XtxBreadItem"),v=G("XtxBread"),l=G("XtxNumbox"),g=G("xtxButton");return s.value?(i(),r("div",ms,[e("div",hs,[f(v,null,{default:P(()=>[f(a,{to:"/"},{default:P(()=>[I("首页")]),_:1}),f(a,{to:`/category/${s.value.categories[1].id}`},{default:P(()=>[I(m(s.value.categories[1].name),1)]),_:1},8,["to"]),f(a,{to:`/category/${s.value.categories[0].id}`},{default:P(()=>[I(m(s.value.categories[0].name),1)]),_:1},8,["to"]),f(a,null,{default:P(()=>[I(m(s.value.name),1)]),_:1})]),_:1}),e("div",bs,[e("div",ys,[f($e,{images:s.value.mainPictures},null,8,["images"]),f(Se)]),e("div",xs,[f(ze,{goods:s.value},null,8,["goods"]),f(Oe,{goods:s.value,onChange:d},null,8,["goods"]),f(l,{modelValue:n.value,"onUpdate:modelValue":_[0]||(_[0]=p=>n.value=p),max:s.value.inventory},null,8,["modelValue","max"]),f(g,{type:"primary",style:{"margin-top":"20px"}},{default:P(()=>[I("加入购物车")]),_:1})])]),f(fe,{goodsId:s.value.id},null,8,["goodsId"]),e("div",$s,[e("div",Cs,[f(ps),f(ie)]),e("div",ks,[f(T),f(T,{type:2})])])])])):O("",!0)}}},Ps=x(Is,[["__scopeId","data-v-10d96bb2"]]);export{Ps as default};
